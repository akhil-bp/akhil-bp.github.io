function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"6dU7":function(t,e,i){"use strict";i.r(e);var a=i("ofXK"),c=i("tyNb"),o=i("3Pt+"),n=i("0IaG"),r=i("fXoL"),s=i("kmnG"),l=i("qFsG"),u=i("bTqV"),d=i("0Lhs");function b(t,e){1&t&&(r.bc(0,"p",12),r.Oc(1,"*Please fill all the fields"),r.ac())}var m,f,p=((m=function(){function t(e,i,a){_classCallCheck(this,t),this.data=e,this.dialogRef=i,this.fb=a}return _createClass(t,[{key:"ngOnInit",value:function(){this.buildItemForm(this.data.payload)}},{key:"buildItemForm",value:function(t){this.itemForm=this.fb.group({name:[t.name||"",o.t.required],code:[t.code||"",o.t.required]})}},{key:"submit",value:function(){this.itemForm.value.name=this.itemForm.value.name.trim(),this.itemForm.value.code=this.itemForm.value.code.trim(),this.itemForm.value.code.length>0&&this.itemForm.value.name.length>0?this.dialogRef.close(this.itemForm.value):this.validationErrors=!0}}]),t}()).\u0275fac=function(t){return new(t||m)(r.Vb(n.a),r.Vb(n.f),r.Vb(o.c))},m.\u0275cmp=r.Pb({type:m,selectors:[["app-state-popup"]],decls:18,vars:7,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","50",1,"pr-1"],[1,"full-width","p-b-10"],["matInput","","name","username","formControlName","name","placeholder","State"],["matInput","","name","username","formControlName","code","placeholder","State Code"],["class","error-msg",4,"ngIf"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],[1,"error-msg"]],template:function(t,e){1&t&&(r.bc(0,"h1",0),r.Oc(1),r.ac(),r.bc(2,"form",1),r.jc("ngSubmit",(function(t){return e.submit()})),r.bc(3,"div",2),r.bc(4,"div",3),r.bc(5,"mat-form-field",4),r.Wb(6,"input",5),r.ac(),r.ac(),r.bc(7,"div",3),r.bc(8,"mat-form-field",4),r.Wb(9,"input",6),r.ac(),r.ac(),r.Mc(10,b,2,0,"p",7),r.bc(11,"div",8),r.bc(12,"button",9),r.Oc(13),r.oc(14,"translate"),r.ac(),r.Wb(15,"span",10),r.bc(16,"button",11),r.jc("click",(function(t){return e.dialogRef.close(!1)})),r.Oc(17,"Cancel"),r.ac(),r.ac(),r.ac(),r.ac()),2&t&&(r.Gb(1),r.Pc(e.data.title),r.Gb(1),r.sc("formGroup",e.itemForm),r.Gb(8),r.sc("ngIf",e.validationErrors),r.Gb(2),r.sc("disabled",e.itemForm.invalid),r.Gb(1),r.Pc(r.pc(14,5,"SAVE")))},directives:[n.g,o.u,o.o,o.h,s.b,l.b,o.b,o.n,o.f,a.l,u.b],pipes:[d.c],styles:[".p-b-10[_ngcontent-%COMP%]{padding-bottom:10px}.error-msg[_ngcontent-%COMP%]{color:red}"]}),m),h=i("3sEA"),g=i("z6cu"),v=i("AytR"),y=i("tk/3"),k=i("dNgK"),w=((f=function(){function t(e,i,a){_classCallCheck(this,t),this.http=e,this.loader=i,this.snack=a,this.apiUrl=v.a.apiURL}return _createClass(t,[{key:"getStates",value:function(){return this.http.get(this.apiUrl+"location/state/list")}},{key:"getstate",value:function(t){return this.http.get(this.apiUrl+"location/state/details/"+t)}},{key:"deleteState",value:function(t){return this.http.get(this.apiUrl+"location/state/delete/"+t)}},{key:"addState",value:function(t){return this.http.post(this.apiUrl+"location/state/add",t)}},{key:"updateState",value:function(t,e){return this.http.post(this.apiUrl+"location/state/update/"+t,e)}},{key:"getDistricts",value:function(){return this.http.get(this.apiUrl+"location/district/list")}},{key:"deleteDistrict",value:function(t){return this.http.get(this.apiUrl+"location/district/delete/"+t)}},{key:"addDistrict",value:function(t){return this.http.post(this.apiUrl+"location/district/add",t)}},{key:"updateDistrict",value:function(t,e){return this.http.post(this.apiUrl+"location/district/update/"+t,e)}},{key:"getDistrict",value:function(t){return this.http.get(this.apiUrl+"location/district/details/"+t)}},{key:"getRegions",value:function(){return this.http.get(this.apiUrl+"location/region/list")}},{key:"deleteRegion",value:function(t){return this.http.get(this.apiUrl+"location/region/delete/"+t)}},{key:"addRegion",value:function(t){return this.http.post(this.apiUrl+"location/region/add",t)}},{key:"updateRegion",value:function(t,e){return this.http.post(this.apiUrl+"location/region/update/"+t,e)}},{key:"getRegion",value:function(t){return this.http.get(this.apiUrl+"location/region/details/"+t)}},{key:"errorHandler",value:function(t){var e;return e=t.error instanceof ErrorEvent?t.error.message:"Error Code: ".concat(t.status,"\nMessage: ").concat(t.message),Object(g.a)(e)}}]),t}()).\u0275fac=function(t){return new(t||f)(r.fc(y.c),r.fc(h.a),r.fc(k.a))},f.\u0275prov=r.Rb({token:f,factory:f.\u0275fac,providedIn:"root"}),f),S=i("3kSh"),_=i("quSY"),x=i("Wp6s"),C=i("lDzL"),G=i("1jcm"),A=i("NFeN");function O(t,e){if(1&t&&r.Oc(0),2&t){var i=e.row;r.Qc(" ",null==i?null:i.name," ")}}function F(t,e){if(1&t&&r.Oc(0),2&t){var i=e.row;r.Qc(" ",null==i?null:i.code," ")}}function D(t,e){if(1&t){var i=r.cc();r.bc(0,"mat-slide-toggle",9),r.jc("change",(function(t){r.Fc(i);var a=e.row;return r.nc().stateToggle(a,t)})),r.ac()}if(2&t){var a=e.row;r.sc("checked","active"===(null==a?null:a.status))}}function P(t,e){if(1&t){var i=r.cc();r.bc(0,"button",10),r.jc("click",(function(t){r.Fc(i);var a=e.row;return r.nc().openPopUp(a)})),r.bc(1,"mat-icon"),r.Oc(2,"edit"),r.ac(),r.ac(),r.bc(3,"button",11),r.jc("click",(function(t){r.Fc(i);var a=e.row;return r.nc().deleteItem(a)})),r.bc(4,"mat-icon"),r.Oc(5,"delete"),r.ac(),r.ac()}}var I,M=((I=function(){function t(e,i,a,c,o){_classCallCheck(this,t),this.dialog=e,this.snack=i,this.locationApiService=a,this.confirmServive=c,this.loader=o,this.states=[],this.statesArray=[],this.subscripition=new _.a}return _createClass(t,[{key:"ngOnInit",value:function(){this.loader.open(),this.getStates()}},{key:"getStates",value:function(){var t=this;this.subscripition.add(this.locationApiService.getStates().subscribe((function(e){t.states=_toConsumableArray(e.result),t.loader.close()}),(function(e){t.loader.close()})))}},{key:"openPopUp",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.dialog.open(p,{width:"520px",disableClose:!0,data:{title:i?"Add New State":"Update state",payload:e}}).afterClosed().subscribe((function(a){a&&(t.loader.open(),t.subscripition.add(i?t.locationApiService.addState(a).subscribe((function(e){t.loader.close(),"success"===e.status&&(t.states.push(e.result),t.states=_toConsumableArray(t.states),t.snack.open("State Added!","OK",{duration:4e3}))}),(function(e){t.loader.close()})):t.locationApiService.updateState(e._id,a).subscribe((function(i){t.loader.close(),"success"===i.status&&(t.getState(e._id,"update"),t.snack.open("State Updated!","OK",{duration:4e3}))}),(function(e){t.loader.close()}))))}))}},{key:"getState",value:function(t,e){var i=this;this.subscripition.add(this.locationApiService.getstate(t).subscribe((function(t){"update"===e&&i.states.forEach((function(e,a){e._id===t.result._id&&(i.states[a]=t.result,i.states=_toConsumableArray(i.states))}))}),(function(t){i.loader.close()})))}},{key:"deleteItem",value:function(t){var e=this;this.subscripition.add(this.confirmServive.confirm({message:"Delete ".concat(t.name,"?")}).subscribe((function(i){i&&(e.loader.open(),e.states.forEach((function(i,a){i._id===t._id&&e.states.splice(a,1)})),e.states=_toConsumableArray(e.states),e.locationApiService.deleteState(t._id).subscribe((function(t){e.loader.close(),"success"===t.status&&e.snack.open("State deleted!","OK",{duration:4e3})}),(function(t){e.loader.close()})))})))}},{key:"stateToggle",value:function(t,e){}},{key:"ngOnDestroy",value:function(){this.subscripition.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||I)(r.Vb(n.b),r.Vb(k.a),r.Vb(w),r.Vb(S.a),r.Vb(h.a))},I.\u0275cmp=r.Pb({type:I,selectors:[["app-state"]],decls:16,vars:16,consts:[[1,"m-333"],["mat-raised-button","","color","primary",1,"mb-05",3,"click"],[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","limit","rowHeight"],["name","State",3,"flexGrow"],["ngx-datatable-cell-template",""],["name","State Code",3,"flexGrow"],["name","Active",3,"flexGrow"],["name","Actions",3,"flexGrow"],[3,"checked","change"],["mat-icon-button","","mat-sm-button","","color","primary",1,"mr-1",3,"click"],["mat-icon-button","","mat-sm-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(r.bc(0,"div",0),r.bc(1,"button",1),r.jc("click",(function(t){return e.openPopUp({},!0)})),r.Oc(2),r.oc(3,"translate"),r.oc(4,"translate"),r.ac(),r.ac(),r.bc(5,"mat-card",2),r.bc(6,"mat-card-content",2),r.bc(7,"ngx-datatable",3),r.bc(8,"ngx-datatable-column",4),r.Mc(9,O,1,1,"ng-template",5),r.ac(),r.bc(10,"ngx-datatable-column",6),r.Mc(11,F,1,1,"ng-template",5),r.ac(),r.bc(12,"ngx-datatable-column",7),r.Mc(13,D,1,1,"ng-template",5),r.ac(),r.bc(14,"ngx-datatable-column",8),r.Mc(15,P,6,0,"ng-template",5),r.ac(),r.ac(),r.ac(),r.ac()),2&t&&(r.Gb(2),r.Rc("",r.pc(3,12,"ADD")," ",r.pc(4,14,"State"),""),r.Gb(5),r.sc("rows",e.states)("columnMode","force")("headerHeight",50)("footerHeight",50)("limit",10)("rowHeight",50),r.Gb(1),r.sc("flexGrow",1),r.Gb(2),r.sc("flexGrow",1),r.Gb(2),r.sc("flexGrow",1),r.Gb(2),r.sc("flexGrow",1))},directives:[u.b,x.a,x.b,C.d,C.b,C.a,G.a,A.a],pipes:[d.c],styles:[""]}),I),R=i("d3UM"),U=i("FKr1");function V(t,e){if(1&t&&(r.bc(0,"mat-option",14),r.Oc(1),r.ac()),2&t){var i=e.$implicit;r.sc("value",i._id),r.Gb(1),r.Pc(i.name)}}function j(t,e){1&t&&(r.bc(0,"p",15),r.Oc(1,"*Please fill all the fields"),r.ac())}var H,T=((H=function(){function t(e,i,a,c,o){_classCallCheck(this,t),this.data=e,this.locationApiService=i,this.dialogRef=a,this.fb=c,this.loader=o,this.subscripition=new _.a,this.states=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.loader.open(),this.getStates(),this.buildItemForm(this.data.payload)}},{key:"getStates",value:function(){var t=this;this.subscripition.add(this.locationApiService.getStates().subscribe((function(e){t.states=e.result,t.loader.close()}),(function(e){t.loader.close()})))}},{key:"buildItemForm",value:function(t){var e,i;this.itemForm=this.fb.group({state:[(null===(i=null===(e=t)||void 0===e?void 0:e.state)||void 0===i?void 0:i._id)||null,o.t.required],name:[t.name||null,o.t.required],code:[t.code||null,o.t.required]})}},{key:"submit",value:function(){this.itemForm.value.name=this.itemForm.value.name.trim(),this.itemForm.value.code=this.itemForm.value.code.trim(),this.itemForm.value.code.length>0&&this.itemForm.value.name.length>0?this.dialogRef.close(this.itemForm.value):this.validationErrors=!0}},{key:"ngOnDestroy",value:function(){this.loader.close(),this.subscripition.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||H)(r.Vb(n.a),r.Vb(w),r.Vb(n.f),r.Vb(o.c),r.Vb(h.a))},H.\u0275cmp=r.Pb({type:H,selectors:[["app-district-popup"]],decls:22,vars:8,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","50",1,"pr-1"],[1,"full-width","p-b-10"],["placeholder","Select State","name","state","formControlName","state",1,"full-width","state-box"],["ngDefaultControl","",3,"value",4,"ngFor","ngForOf"],["matInput","","name","username","formControlName","name","placeholder","District"],["matInput","","name","username","formControlName","code","placeholder","District Code"],["class","error-msg",4,"ngIf"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],["ngDefaultControl","",3,"value"],[1,"error-msg"]],template:function(t,e){1&t&&(r.bc(0,"h1",0),r.Oc(1),r.ac(),r.bc(2,"form",1),r.jc("ngSubmit",(function(t){return e.submit()})),r.bc(3,"div",2),r.bc(4,"div",3),r.bc(5,"mat-form-field",4),r.bc(6,"mat-select",5),r.Mc(7,V,2,2,"mat-option",6),r.ac(),r.ac(),r.ac(),r.bc(8,"div",3),r.bc(9,"mat-form-field",4),r.Wb(10,"input",7),r.ac(),r.ac(),r.bc(11,"div",3),r.bc(12,"mat-form-field",4),r.Wb(13,"input",8),r.ac(),r.ac(),r.Mc(14,j,2,0,"p",9),r.bc(15,"div",10),r.bc(16,"button",11),r.Oc(17),r.oc(18,"translate"),r.ac(),r.Wb(19,"span",12),r.bc(20,"button",13),r.jc("click",(function(t){return e.dialogRef.close(!1)})),r.Oc(21,"Cancel"),r.ac(),r.ac(),r.ac(),r.ac()),2&t&&(r.Gb(1),r.Pc(e.data.title),r.Gb(1),r.sc("formGroup",e.itemForm),r.Gb(5),r.sc("ngForOf",e.states),r.Gb(7),r.sc("ngIf",e.validationErrors),r.Gb(2),r.sc("disabled",e.itemForm.invalid),r.Gb(1),r.Pc(r.pc(18,6,"SAVE")))},directives:[n.g,o.u,o.o,o.h,s.b,R.a,o.n,o.f,a.k,l.b,o.b,a.l,u.b,U.p],pipes:[d.c],styles:[".state-box[_ngcontent-%COMP%]{width:120px}.p-b-10[_ngcontent-%COMP%]{padding-bottom:10px}.error-msg[_ngcontent-%COMP%]{color:red}"]}),H);function E(t,e){if(1&t&&r.Oc(0),2&t){var i=e.row;r.Qc(" ",null==i?null:i.name," ")}}function N(t,e){if(1&t&&r.Oc(0),2&t){var i=e.row;r.Qc(" ",null==i?null:i.code," ")}}function L(t,e){if(1&t&&r.Oc(0),2&t){var i=e.row;r.Qc(" ",null==i?null:i.state.name," ")}}function W(t,e){if(1&t){var i=r.cc();r.bc(0,"mat-slide-toggle",10),r.jc("change",(function(t){r.Fc(i);var a=e.row;return r.nc().stateToggle(a,t)})),r.ac()}if(2&t){var a=e.row;r.sc("checked","active"===(null==a?null:a.status))}}function K(t,e){if(1&t){var i=r.cc();r.bc(0,"button",11),r.jc("click",(function(t){r.Fc(i);var a=e.row;return r.nc().openPopUp(a)})),r.bc(1,"mat-icon"),r.Oc(2,"edit"),r.ac(),r.ac(),r.bc(3,"button",12),r.jc("click",(function(t){r.Fc(i);var a=e.row;return r.nc().deleteItem(a)})),r.bc(4,"mat-icon"),r.Oc(5,"delete"),r.ac(),r.ac()}}var q,Q=((q=function(){function t(e,i,a,c,o){_classCallCheck(this,t),this.dialog=e,this.snack=i,this.locationApiService=a,this.loader=c,this.confirmService=o,this.districts=[],this.subscripition=new _.a}return _createClass(t,[{key:"ngOnInit",value:function(){this.loader.open(),this.getStates()}},{key:"getStates",value:function(){var t=this;this.subscripition.add(this.locationApiService.getDistricts().subscribe((function(e){t.districts=_toConsumableArray(e.result),t.loader.close()}),(function(e){t.loader.close()})))}},{key:"closeLoader",value:function(){this.loader.close()}},{key:"openPopUp",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.dialog.open(T,{width:"520px",disableClose:!0,data:{title:i?"Add New District":"Update District",payload:e}}).afterClosed().subscribe((function(a){a&&(t.loader.open(),t.subscripition.add(i?t.locationApiService.addDistrict(a).subscribe((function(e){t.loader.close(),"success"===e.status&&(t.getDistrict(e.result._id,"add"),t.snack.open("District Added!","OK",{duration:4e3}))}),(function(e){t.loader.close()})):t.locationApiService.updateDistrict(e._id,a).subscribe((function(e){t.loader.close(),"success"===e.status&&(t.getDistrict(e.result._id,"update"),t.snack.open("District Updated!","OK",{duration:4e3}))}),(function(e){t.loader.close()}))))}))}},{key:"getDistrict",value:function(t,e){var i=this;this.subscripition.add(this.locationApiService.getDistrict(t).subscribe((function(t){"add"===e?(i.districts.push(t.result),i.districts=_toConsumableArray(i.districts)):i.districts.forEach((function(e,a){e._id===t.result._id&&(i.districts[a]=t.result,i.districts=_toConsumableArray(i.districts))}))}),(function(t){i.loader.close()})))}},{key:"deleteItem",value:function(t){var e=this;this.subscripition.add(this.confirmService.confirm({message:"Delete ".concat(t.name,"?")}).subscribe((function(i){i&&(e.loader.open(),e.districts.forEach((function(i,a){i._id===t._id&&e.districts.splice(a,1)})),e.districts=_toConsumableArray(e.districts),e.locationApiService.deleteDistrict(t._id).subscribe((function(t){e.loader.close(),"success"===t.status&&e.snack.open("District deleted!","OK",{duration:4e3})})))}),(function(t){e.loader.close()})))}},{key:"stateToggle",value:function(t,e){}},{key:"ngOnDestroy",value:function(){this.subscripition.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||q)(r.Vb(n.b),r.Vb(k.a),r.Vb(w),r.Vb(h.a),r.Vb(S.a))},q.\u0275cmp=r.Pb({type:q,selectors:[["app-district"]],decls:18,vars:18,consts:[[1,"m-333"],["mat-raised-button","","color","primary",1,"mb-05",3,"click"],[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","limit","rowHeight"],["name","District",3,"flexGrow"],["ngx-datatable-cell-template",""],["name","District Code",3,"flexGrow"],["name","State",3,"flexGrow"],["name","Active",3,"flexGrow"],["name","Actions",3,"flexGrow"],[3,"checked","change"],["mat-icon-button","","mat-sm-button","","color","primary",1,"mr-1",3,"click"],["mat-icon-button","","mat-sm-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(r.bc(0,"div",0),r.bc(1,"button",1),r.jc("click",(function(t){return e.openPopUp({},!0)})),r.Oc(2),r.oc(3,"translate"),r.oc(4,"translate"),r.ac(),r.ac(),r.bc(5,"mat-card",2),r.bc(6,"mat-card-content",2),r.bc(7,"ngx-datatable",3),r.bc(8,"ngx-datatable-column",4),r.Mc(9,E,1,1,"ng-template",5),r.ac(),r.bc(10,"ngx-datatable-column",6),r.Mc(11,N,1,1,"ng-template",5),r.ac(),r.bc(12,"ngx-datatable-column",7),r.Mc(13,L,1,1,"ng-template",5),r.ac(),r.bc(14,"ngx-datatable-column",8),r.Mc(15,W,1,1,"ng-template",5),r.ac(),r.bc(16,"ngx-datatable-column",9),r.Mc(17,K,6,0,"ng-template",5),r.ac(),r.ac(),r.ac(),r.ac()),2&t&&(r.Gb(2),r.Rc("",r.pc(3,14,"ADD")," ",r.pc(4,16,"District"),""),r.Gb(5),r.sc("rows",e.districts)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),r.Gb(1),r.sc("flexGrow",1),r.Gb(2),r.sc("flexGrow",1),r.Gb(2),r.sc("flexGrow",1),r.Gb(2),r.sc("flexGrow",1),r.Gb(2),r.sc("flexGrow",1))},directives:[u.b,x.a,x.b,C.d,C.b,C.a,G.a,A.a],pipes:[d.c],styles:[""]}),q);function $(t,e){if(1&t&&(r.bc(0,"mat-option",14),r.Oc(1),r.ac()),2&t){var i=e.$implicit;r.sc("value",i._id),r.Gb(1),r.Pc(i.name)}}function z(t,e){if(1&t&&(r.bc(0,"mat-option",14),r.Oc(1),r.ac()),2&t){var i=e.$implicit;r.sc("value",i._id),r.Gb(1),r.Pc(i.name)}}function J(t,e){1&t&&(r.bc(0,"p",15),r.Oc(1,"*Please fill all the fields"),r.ac())}var X,Y=((X=function(){function t(e,i,a,c,o){_classCallCheck(this,t),this.data=e,this.dialogRef=i,this.fb=a,this.locationApiService=c,this.loader=o,this.subscripition=new _.a,this.states=[],this.Districts=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.loader.open(),this.getStates(),this.getDistricts(),this.buildItemForm(this.data.payload)}},{key:"getStates",value:function(){var t=this;this.subscripition.add(this.locationApiService.getStates().subscribe((function(e){t.states=e.result}),(function(e){t.loader.close()})))}},{key:"getDistricts",value:function(){var t=this;this.subscripition.add(this.locationApiService.getDistricts().subscribe((function(e){t.Districts=e.result,t.loader.close()}),(function(e){t.loader.close()})))}},{key:"buildItemForm",value:function(t){var e,i,a,c;this.itemForm=this.fb.group({name:[t.name||null,o.t.required],state:[(null===(i=null===(e=t)||void 0===e?void 0:e.state)||void 0===i?void 0:i._id)||null,o.t.required],district:[(null===(c=null===(a=t)||void 0===a?void 0:a.district)||void 0===c?void 0:c._id)||null,o.t.required]})}},{key:"submit",value:function(){this.itemForm.value.name=this.itemForm.value.name.trim(),this.itemForm.value.name.length>0?this.dialogRef.close(this.itemForm.value):this.validationErrors=!0}},{key:"ngOnDestroy",value:function(){this.loader.close(),this.subscripition.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||X)(r.Vb(n.a),r.Vb(n.f),r.Vb(o.c),r.Vb(w),r.Vb(h.a))},X.\u0275cmp=r.Pb({type:X,selectors:[["app-region-popup"]],decls:22,vars:9,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","50",1,"pr-1"],[1,"full-width","p-b-10"],["placeholder","Select State","name","state","formControlName","state",1,"full-width","state-box"],["ngDefaultControl","",3,"value",4,"ngFor","ngForOf"],["placeholder","Select District","name","state","formControlName","district",1,"full-width","state-box"],["matInput","","name","region","formControlName","name","placeholder","Region"],["class","error-msg",4,"ngIf"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],["ngDefaultControl","",3,"value"],[1,"error-msg"]],template:function(t,e){1&t&&(r.bc(0,"h1",0),r.Oc(1),r.ac(),r.bc(2,"form",1),r.jc("ngSubmit",(function(t){return e.submit()})),r.bc(3,"div",2),r.bc(4,"div",3),r.bc(5,"mat-form-field",4),r.bc(6,"mat-select",5),r.Mc(7,$,2,2,"mat-option",6),r.ac(),r.ac(),r.bc(8,"mat-form-field",4),r.bc(9,"mat-select",7),r.Mc(10,z,2,2,"mat-option",6),r.ac(),r.ac(),r.ac(),r.bc(11,"div",3),r.bc(12,"mat-form-field",4),r.Wb(13,"input",8),r.ac(),r.ac(),r.Mc(14,J,2,0,"p",9),r.bc(15,"div",10),r.bc(16,"button",11),r.Oc(17),r.oc(18,"translate"),r.ac(),r.Wb(19,"span",12),r.bc(20,"button",13),r.jc("click",(function(t){return e.dialogRef.close(!1)})),r.Oc(21,"Cancel"),r.ac(),r.ac(),r.ac(),r.ac()),2&t&&(r.Gb(1),r.Pc(e.data.title),r.Gb(1),r.sc("formGroup",e.itemForm),r.Gb(5),r.sc("ngForOf",e.states),r.Gb(3),r.sc("ngForOf",e.Districts),r.Gb(4),r.sc("ngIf",e.validationErrors),r.Gb(2),r.sc("disabled",e.itemForm.invalid),r.Gb(1),r.Pc(r.pc(18,7,"SAVE")))},directives:[n.g,o.u,o.o,o.h,s.b,R.a,o.n,o.f,a.k,l.b,o.b,a.l,u.b,U.p],pipes:[d.c],styles:[".p-b-10[_ngcontent-%COMP%]{padding-bottom:10px}.error-msg[_ngcontent-%COMP%]{color:red}"]}),X);function B(t,e){if(1&t&&r.Oc(0),2&t){var i=e.row;r.Qc(" ",null==i?null:i.name," ")}}function Z(t,e){if(1&t&&r.Oc(0),2&t){var i=e.row;r.Qc(" ",null==i?null:i.state.name," ")}}function tt(t,e){if(1&t&&r.Oc(0),2&t){var i=e.row;r.Qc(" ",null==i?null:i.district.name," ")}}function et(t,e){if(1&t){var i=r.cc();r.bc(0,"mat-slide-toggle",10),r.jc("change",(function(t){r.Fc(i);var a=e.row;return r.nc().stateToggle(a,t)})),r.ac()}if(2&t){var a=e.row;r.sc("checked","active"===(null==a?null:a.status))}}function it(t,e){if(1&t){var i=r.cc();r.bc(0,"button",11),r.jc("click",(function(t){r.Fc(i);var a=e.row;return r.nc().openPopUp(a)})),r.bc(1,"mat-icon"),r.Oc(2,"edit"),r.ac(),r.ac(),r.bc(3,"button",12),r.jc("click",(function(t){r.Fc(i);var a=e.row;return r.nc().deleteItem(a)})),r.bc(4,"mat-icon"),r.Oc(5,"delete"),r.ac(),r.ac()}}var at,ct,ot,nt=((at=function(){function t(e,i,a,c,o){_classCallCheck(this,t),this.dialog=e,this.snack=i,this.locationApiService=a,this.confirmService=c,this.loader=o,this.subscripition=new _.a,this.regions=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.loader.open(),this.getStates()}},{key:"getStates",value:function(){var t=this;this.subscripition.add(this.locationApiService.getRegions().subscribe((function(e){t.regions=_toConsumableArray(e.result),t.loader.close()}),(function(e){t.loader.close()})))}},{key:"openPopUp",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.dialog.open(Y,{width:"520px",disableClose:!0,data:{title:i?"Add New Region":"Update Region",payload:e}}).afterClosed().subscribe((function(a){a&&(t.loader.open(),t.subscripition.add(i?t.locationApiService.addRegion(a).subscribe((function(e){t.loader.close(),"success"===e.status&&(t.getRegion(e.result._id,"add"),t.snack.open("Region Added!","OK",{duration:4e3}))}),(function(e){t.loader.close()})):t.locationApiService.updateRegion(e._id,a).subscribe((function(e){t.loader.close(),"success"===e.status&&(t.getRegion(e.result._id,"update"),t.snack.open("Region Updated!","OK",{duration:4e3}))}),(function(e){t.loader.close()}))))}))}},{key:"getRegion",value:function(t,e){var i=this;this.subscripition.add(this.locationApiService.getRegion(t).subscribe((function(t){"add"===e?(i.regions.push(t.result),i.regions=_toConsumableArray(i.regions)):i.regions.forEach((function(e,a){e._id===t.result._id&&(i.regions[a]=t.result,i.regions=_toConsumableArray(i.regions))}))}),(function(t){i.loader.close()})))}},{key:"deleteItem",value:function(t){var e=this;this.confirmService.confirm({message:"Delete ".concat(t.name,"?")}).subscribe((function(i){i&&(e.loader.open(),e.regions.forEach((function(i,a){i._id===t._id&&e.regions.splice(a,1)})),e.regions=_toConsumableArray(e.regions),e.subscripition.add(e.locationApiService.deleteRegion(t._id).subscribe((function(t){e.loader.close(),"success"===t.status&&e.snack.open("Region deleted!","OK",{duration:4e3})}),(function(t){e.loader.close()}))))}))}},{key:"stateToggle",value:function(t,e){}},{key:"ngOnDestroy",value:function(){this.subscripition.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||at)(r.Vb(n.b),r.Vb(k.a),r.Vb(w),r.Vb(S.a),r.Vb(h.a))},at.\u0275cmp=r.Pb({type:at,selectors:[["app-region"]],decls:18,vars:18,consts:[[1,"m-333"],["mat-raised-button","","color","primary",1,"mb-05",3,"click"],[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","limit","rowHeight"],["name","Region",3,"flexGrow"],["ngx-datatable-cell-template",""],["name","State",3,"flexGrow"],["name","District",3,"flexGrow"],["name","Active",3,"flexGrow"],["name","Actions",3,"flexGrow"],[3,"checked","change"],["mat-icon-button","","mat-sm-button","","color","primary",1,"mr-1",3,"click"],["mat-icon-button","","mat-sm-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(r.bc(0,"div",0),r.bc(1,"button",1),r.jc("click",(function(t){return e.openPopUp({},!0)})),r.Oc(2),r.oc(3,"translate"),r.oc(4,"translate"),r.ac(),r.ac(),r.bc(5,"mat-card",2),r.bc(6,"mat-card-content",2),r.bc(7,"ngx-datatable",3),r.bc(8,"ngx-datatable-column",4),r.Mc(9,B,1,1,"ng-template",5),r.ac(),r.bc(10,"ngx-datatable-column",6),r.Mc(11,Z,1,1,"ng-template",5),r.ac(),r.bc(12,"ngx-datatable-column",7),r.Mc(13,tt,1,1,"ng-template",5),r.ac(),r.bc(14,"ngx-datatable-column",8),r.Mc(15,et,1,1,"ng-template",5),r.ac(),r.bc(16,"ngx-datatable-column",9),r.Mc(17,it,6,0,"ng-template",5),r.ac(),r.ac(),r.ac(),r.ac()),2&t&&(r.Gb(2),r.Rc("",r.pc(3,14,"ADD")," ",r.pc(4,16,"Region"),""),r.Gb(5),r.sc("rows",e.regions)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),r.Gb(1),r.sc("flexGrow",1),r.Gb(2),r.sc("flexGrow",1),r.Gb(2),r.sc("flexGrow",1),r.Gb(2),r.sc("flexGrow",1),r.Gb(2),r.sc("flexGrow",1))},directives:[u.b,x.a,x.b,C.d,C.b,C.a,G.a,A.a],pipes:[d.c],styles:[""]}),at),rt=i("hOig"),st=[{path:"",component:(ct=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),ct.\u0275fac=function(t){return new(t||ct)},ct.\u0275cmp=r.Pb({type:ct,selectors:[["app-dashboard"]],decls:1,vars:0,template:function(t,e){1&t&&r.Wb(0,"app-admin-layout")},directives:[rt.a],styles:[""]}),ct),children:[{path:"",redirectTo:"state"},{path:"state",component:M},{path:"district",component:Q},{path:"region",component:nt},{path:"**",redirectTo:""}]}],lt=((ot=function t(){_classCallCheck(this,t)}).\u0275mod=r.Tb({type:ot}),ot.\u0275inj=r.Sb({factory:function(t){return new(t||ot)},imports:[[c.k.forChild(st)],c.k]}),ot),ut=i("zMWy"),dt=i("PCNd");i.d(e,"DashboardModule",(function(){return mt}));var bt,mt=((bt=function t(){_classCallCheck(this,t)}).\u0275mod=r.Tb({type:bt}),bt.\u0275inj=r.Sb({factory:function(t){return new(t||bt)},imports:[[a.c,lt,dt.a,ut.a,d.b,C.e]]}),bt)}}]);